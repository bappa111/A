<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Profile</title>
</head>
<body>

<h3 id="profileTitle">Profile</h3>

<!-- ================= PROFILE PIC ================= -->
<img
  id="profilePic"
  width="120"
  style="cursor:pointer"
  onclick="openFullPic()"
/>



<input
  type="file"
  id="profilePicInput"
  accept="image/*"
  style="display:none"
/>

<br>

<!-- ================= NAME ================= -->
<input
  id="nameInput"
  placeholder="Your name"
  style="width:100%;margin-bottom:6px"
  disabled
/>

<button
  id="editProfileBtn"
  onclick="enableProfileEdit()"
  style="display:none"
>
  âœï¸ Edit
</button>

<button
  id="saveBtn"
  onclick="updateProfile()"
  style="display:none"
>
  ğŸ’¾ Save
</button>

<br><br>

<!-- ================= BIO ================= -->
<textarea
  id="bio"
  placeholder="Your bio"
  style="width:100%;height:60px"
  disabled
></textarea>

<br><br>

<!-- ================= FOLLOW COUNTS ================= -->
Followers:
<span
  id="followersCount"
  onclick="openFollowers()"
  style="cursor:pointer;color:blue"
>0</span>
|
Following:
<span
  id="followingCount"
  onclick="openFollowing()"
  style="cursor:pointer;color:blue"
>0</span>

<br><br>

<!-- ================= ACTION BUTTONS ================= -->
<button id="chatBtn" onclick="openDM()">Chat</button>
<button id="followBtn" onclick="toggleFollow()">Follow</button>

<hr>

<!-- ================= PUBLIC POSTS ================= -->
<div id="postsSection">
  <h4>Posts</h4>
  <div id="posts"></div>
</div>

<hr>

<!-- ================= PERSONAL POST CREATE ================= -->
<div
  id="personalPostBox"
  style="display:none;margin-bottom:10px"
>
  <textarea
    id="personalPostText"
    placeholder="Write a personal post..."
    style="width:100%;height:80px"
  ></textarea>

  <input
    type="file"
    id="personalPostMedia"
    accept="image/*,video/*"
  />

  <br><br>
  <button onclick="createPersonalPost()">
    Post (Private)
  </button>
</div>

<!-- ================= PERSONAL ACCESS ================= -->
<div
  id="personalAccessRequests"
  style="display:none;margin-bottom:15px"
>
  <h4>ğŸ” Personal Access Requests</h4>
  <div id="accessRequestList"></div>
</div>

<h4>ğŸ”’ Personal Posts</h4>

<button
  id="requestAccessBtn"
  style="display:none"
>
  Request Personal Access
</button>

<button onclick="removePersonalAccess('USER_ID')">
  âŒ Remove Access
</button>
<div id="personalPosts" style="margin-top:10px"></div>

<!-- ================= FOLLOW LIST MODAL ================= -->
<div
  id="followModal"
  style="
    display:none;
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.6);
    z-index:9999;
  "
>
  <div
    style="
      background:#fff;
      max-width:400px;
      margin:60px auto;
      padding:15px;
      border-radius:6px;
    "
  >
    <h4 id="modalTitle"></h4>
    <div id="modalList"></div>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<!-- ================= UPLOAD PROGRESS ================= -->
<div
  id="uploadOverlay"
  style="
    display:none;
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.5);
    z-index:99999;
    align-items:center;
    justify-content:center;
  "
>
  <div
    style="
      width:120px;
      height:120px;
      border-radius:50%;
      border:10px solid #ddd;
      border-top:10px solid #4caf50;
      animation:spin 1s linear infinite;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      background:#fff;
    "
  >
    <span id="uploadPercent">0%</span>
  </div>
</div>

<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
<!-- ================= FULL SCREEN PROFILE PIC ================= -->
<div
  id="fullPicOverlay"
  style="
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:#000;
    z-index:999999;
  "
>
  <!-- Back button -->
  <button
    onclick="closeFullPic()"
    style="
      position:absolute;
      top:15px; left:15px;
      background:rgba(0,0,0,0.6);
      color:#fff;
      border:none;
      font-size:10px;
      padding:5px 8px;
      border-radius:50%;
      cursor:pointer;
    "
  >
    â¬…ï¸
  </button>

  <!-- Image -->
  <img
    id="fullPicImg"
    style="
      width:100%;
      height:100%;
      object-fit:contain;
    "
  />
</div>
<script src="profile.js"></script>
</body>
</html>
