<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Profile</title>
  <link rel="stylesheet" href="profile.css">
</head>
<body>

<!-- ===== LOADER ===== -->
<div id="loader" style="
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:18px;
">
  Loading...
</div>

<!-- ===== PROFILE PAGE (ALL CONTENT INSIDE) ===== -->
<div id="profilePage" class="profile-page" style="display:none;">

  <!-- ===== PROFILE HEADER ===== -->
  <div class="profile-header">
    <img id="profilePic" onclick="openFullPic()" />

    <div class="profile-info">
      <h2 id="profileTitle">Profile</h2>

      <textarea id="bio" placeholder="Your bio" disabled></textarea>

      <input id="nameInput" placeholder="Your name" disabled />

      <div class="edit-actions">
        <button id="editProfileBtn" onclick="enableProfileEdit()">âœï¸ Edit</button>
        <button id="saveBtn" onclick="updateProfile()">ğŸ’¾ Save</button>
      </div>

      <input type="file" id="profilePicInput" accept="image/*" />
    </div>
  </div>

  <!-- ===== STATS ===== -->
  <div class="profile-stats">
    <span onclick="openFollowers()">ğŸ‘¥ <b id="followersCount">0</b> Followers</span>
    <span onclick="openFollowing()">â¡ï¸ <b id="followingCount">0</b> Following</span>
  </div>

  <!-- ===== ACTION BUTTONS ===== -->
  <div class="profile-actions">
    <button id="chatBtn" onclick="openDM()">Chat</button>
    <button id="followBtn" onclick="toggleFollow()">Follow</button>
    <button id="requestAccessBtn">Request Access</button>
  </div>

  <!-- ===== POSTS ===== -->
  <section class="section">
    <h3>Posts</h3>
    <div id="posts"></div>
  </section>

  <!-- ===== CREATE PERSONAL POST ===== -->
  <section id="personalPostBox" class="section">
    <h3>ğŸ”’ Create Personal Post</h3>
    <textarea id="personalPostText" placeholder="Write a personal post..."></textarea>
    <input type="file" id="personalPostMedia" accept="image/*,video/*" />
    <button onclick="createPersonalPost()">Post (Private)</button>
  </section>

  <!-- ===== PERSONAL ACCESS CONTROL ===== -->
  <section id="personalAccessRequests" class="section">
    <h3>ğŸ” Personal Access Control</h3>

    <h4>â³ Pending</h4>
    <div id="pendingList"></div>

    <h4>âœ… Approved</h4>
    <div id="approvedList"></div>

    <h4>âŒ Rejected</h4>
    <div id="rejectedList"></div>
  </section>

  <!-- ===== PERSONAL POSTS ===== -->
  <section class="section">
    <h3>ğŸ”’ Personal Posts</h3>
    <div id="personalPosts"></div>
  </section>

</div>

<!-- ===== FOLLOW MODAL ===== -->
<div id="followModal" class="modal">
  <div class="modal-box">
    <h3 id="modalTitle"></h3>
    <div id="modalList"></div>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<!-- ===== FULL IMAGE VIEW ===== -->
<div id="fullPicOverlay">
  <button onclick="closeFullPic()">â¬…ï¸</button>
  <img id="fullPicImg" />
</div>

<script>
  window.onload = function () {
    document.getElementById("loader").style.display = "none";
    document.getElementById("profilePage").style.display = "block";
  };
</script>

<script src="profile.js"></script>
</body>
</html>
